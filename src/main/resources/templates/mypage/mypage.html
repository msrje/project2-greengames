<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<link rel="stylesheet" href="/css/admin/main.css">
<script src='/js/main.js'></script>
<th:block th:insert="~{admin/AdminLayout :: head}" />
<link rel="stylesheet" href="/css/default.css">
<th:block th:insert="~{admin/AdminLayout :: header}" />
<link rel="stylesheet" href="/css/member/mypage.css">
<script type="text/javascript">

	document.addEventListener('DOMContentLoaded', function() {
		var calendarEl = document.getElementById('calendar');
		var calendar = new FullCalendar.Calendar(calendarEl, {
			initialView : 'dayGridMonth'
		});
		calendar.render();
	});
</script>
</head>
<body class="flex">
	<main>
		<div>
			<div class="mypage">
				<div class="wrap-title">
					<h2 class="mypage-title">
						<strong>[[${detail.name}]]</strong> 님 어서오세요.
					</h2>
				</div>
				<div style="text-align: right;">
					<a style="position: relative; left: 122px; top:-20px; font-weight: bold; font-size: 20px">캘린더</a>
					<div style="width: 500px; position: relative; left: 900px;">
						<div id='calendar'></div>
					</div>
				</div>
				<div class="mypage-info">
					<div class="mypage-img">
						<img src="/image/test/profiletest.jpeg" align="left">
					</div>
					<br>
					<div class="member-info">
						<form>
							<ul>
								<li><label for="name">이름 -</label> <span>[[${detail.name}]]</span>
								</li>
								<li><label for="name">사번 -</label> <span>[[${detail.mno}]]</span>
								</li>
								<li><label for="name">전화번호 -</label> <span>[[${detail.phone}]]</span>

								</li>
								<li><label for="name">id=email -</label> <span>[[${detail.id}]]</span>

								</li>
								<li><label for="name">직책 -</label> <span></span></li>
							</ul>
						</form>
					</div>
					<ul id="mypage-addr">
						<li><input type="hidden" id="base" name="base"
							th:value="${mpageaddr.base}"> <input type="text"
							readonly="readonly" id="postcode" name="postcode"
							placeholder="우편번호" th:value="${mpageaddr.postcode}"> <br>
							<input type="text" readonly="readonly" id="roadAddress"
							name="roadAddress" placeholder="도로명주소"
							th:value="${mpageaddr.roadAddress}"> <br> <input
							type="text" readonly="readonly" id="jibunAddress"
							name="jibunAddress" placeholder="지번주소"
							th:value="${mpageaddr.jibunAddress}"> <span id="guide"
							style="color: #999; display: none"></span> <br> <input
							type="text" id="detailAddress" name="detailAddress"
							placeholder="상세주소" th:value="${mpageaddr.detailAddress}">
						</li>
					</ul>
					<div style="text-align: center;">
						<a th:href="|/mypage/${mno}|"><button>개인정보수정</button></a>
					</div>
				</div>
			</div>
		</div>

		<div class="salary-info">
			<p>이번달 내 급여정보</p>
			<table>
				<thead>
					<!-- thymleaf사용 -->
					<tr class="salary-info-1">
						<td>사원번호</td>
						<td>이름</td>
						<td>직책</td>
						<td>기본급여</td>
						<td>변동금액</td>
						<td>이번 달 급여</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>사번</td>
						<td>이름</td>
						<td>직책</td>
						<td>기본급여</td>
						<td>변동금액</td>
						<td>이번 달 급여</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="approval-1">
			<div class="approval-2">
				<div class="approval-3">
					<div>
						<p>전자결재</p>
					</div>
					<div class="text-link">
						<a>업무</a> <a>휴가/병가</a>
					</div>
				</div>
			</div>
		</div>
		<div>
				<p>내가 작성한 게시글</p>
				<div th:if="${#authentication.name == detail.id}">
				<table>
		    			<tr>
		    				<td>No</td>
		    				<td>제목</td>
		    				<td>조회수</td>
		    				<td>작성자</td>
		    				<td>작성일</td>
		    			</tr>
		    			<tr th:each="dto : ${list}">
		    				<td th:text="${dto.bno}">No</td>
		    				<td><a th:href="|/notice-boards/${dto.bno}|">[[${dto.title}]]</a></td>
		    				<td th:text="${dto.readCount}">조회수</td>
		    				<td>[[${dto.writer}]]</td>
		    				<td>
		    					<span th:if="${dto.updatedDate.toLocalDate() eq dto.toDay}"
		    					th:text="${dto.updatedDate.toLocalDate()}">날짜</span>
		    				</td>
		    			</tr>
		    			<tr th:if="${p.getNumberOfElements()==0}">
		    				<td colspan="5">존재하지 않는페이지</td>
		    			</tr>
		    		</table>	
		    		<div th:if="${p.getNumberOfElements()>0}">
		    			<a th:if="${p.hasPrevious()}" th:href="|/notice-boards?page=${p.getNumber()}|">&lt;</a>
		    			<span th:text="${p.getNumber()+1}">현재페이지</span>
		    			/
		    			<span th:text="${p.getTotalPages()}">총페이지수</span> 
		    			<a th:if="${p.hasNext()}" th:href="|/notice-boards?page=${p.getNumber()+2}|">&gt;</a>
		    		</div>
	    		</div>
		</div>
		<div>
			<h1>캘린더 위치</h1>
		</div>
	</main>
</body>
</html>